"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/passwords/[id]";
exports.ids = ["pages/api/passwords/[id]"];
exports.modules = {

/***/ "@auth0/nextjs-auth0":
/*!**************************************!*\
  !*** external "@auth0/nextjs-auth0" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("@auth0/nextjs-auth0");

/***/ }),

/***/ "faunadb":
/*!**************************!*\
  !*** external "faunadb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("faunadb");

/***/ }),

/***/ "(api)/./faunaDBModels.js":
/*!**************************!*\
  !*** ./faunaDBModels.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addNewPassword\": () => (/* binding */ addNewPassword),\n/* harmony export */   \"getPasswordsForUser\": () => (/* binding */ getPasswordsForUser),\n/* harmony export */   \"getPassword\": () => (/* binding */ getPassword),\n/* harmony export */   \"updatePassword\": () => (/* binding */ updatePassword),\n/* harmony export */   \"deletePassword\": () => (/* binding */ deletePassword)\n/* harmony export */ });\n/* harmony import */ var faunadb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! faunadb */ \"faunadb\");\n/* harmony import */ var faunadb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(faunadb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst faunaClient = new (faunadb__WEBPACK_IMPORTED_MODULE_0___default().Client)({\n    secret: process.env.REACT_APP_FAUNA_KEY\n});\nconst addNewPassword = async (accountName, accountUrl, email, encryptedPassword, user, avatar)=>{\n    const date = new Date();\n    const months = [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December'\n    ];\n    try {\n        let newAddedPassword = await faunaClient.query(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Create(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Collection('passwords'), {\n            data: {\n                accountName,\n                accountUrl,\n                email,\n                encryptedPassword,\n                avatar,\n                created__at: `${months[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`,\n                user: {\n                    id: user.sub\n                }\n            }\n        }));\n        if (newAddedPassword.name === 'BadRequest') {\n            return 'Sorry, there was a problem with the request, Database Server issue!';\n        }\n        newAddedPassword.data.id = newAddedPassword.ref.value.id;\n        return newAddedPassword.data;\n    } catch (error) {\n        return error.message;\n    }\n};\nconst getPasswordsForUser = async (id)=>{\n    try {\n        let passwordsForUser = await faunaClient.query(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Paginate(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Match(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Index('user_passwords'), id)));\n        if (passwordsForUser.name === 'NotFound') {\n            return 'Passwords for the user were not found!';\n        }\n        if (passwordsForUser.name === 'BadRequest') {\n            return 'Sorry, there was a problem with the request, Database Server issue!';\n        }\n        let passwords = [];\n        for (let passwordId of passwordsForUser.data){\n            let password = await getPassword(passwordId.value.id);\n            passwords.push(password);\n        }\n        return passwords;\n    } catch (error) {\n        if (error.message === 'instance not found') {\n            return [];\n        }\n        return;\n    }\n};\nconst getPassword = async (id)=>{\n    try {\n        let password = await faunaClient.query(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Get(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Ref(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Collection('passwords'), id)));\n        if (password.name === 'NotFound') {\n            return 'Passwords for the user were not found!';\n        }\n        if (password.name === 'BadRequest') {\n            return 'Sorry, there was a problem with the request, Database Server issue!';\n        }\n        password.data.id = password.ref.value.id;\n        return password.data;\n    } catch (error) {\n        return error.message;\n    }\n};\nconst updatePassword = async (payload, id)=>{\n    try {\n        let password = await faunaClient.query(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Update(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Ref(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Collection('passwords'), id), {\n            data: payload\n        }));\n        if (password.name === 'NotFound') {\n            return 'Required password data Not found';\n        }\n        if (password.name === 'BadRequest') {\n            return 'Something went wrong, Database Server issue!';\n        }\n        password.data.id = password.ref.value.id;\n        return password.data;\n    } catch (error) {\n        return error.message;\n    }\n};\nconst deletePassword = async (id)=>{\n    try {\n        let password = await faunaClient.query(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Delete(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Ref(faunadb__WEBPACK_IMPORTED_MODULE_0__.query.Collection('passwords'), id)));\n        if (password.name === 'NotFound') {\n            return 'Required password data Not found';\n        }\n        if (password.name === 'BadRequest') {\n            return 'Something went wrong, Database Server issue!';\n        }\n        password.data.id = password.ref.value.id;\n        return password.data;\n    } catch (error) {\n        return error.message;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ0EsS0FBSyxDQUFDQyxPQUFPO0lBQ3hCLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3liZXJ2YXVsdG5leHQvLi9mYXVuYURCTW9kZWxzLmpzP2JjMmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZhdW5hZGIsIHsgcXVlcnkgYXMgcSB9IGZyb20gJ2ZhdW5hZGInXHJcblxyXG5jb25zdCBmYXVuYUNsaWVudCA9IG5ldyBmYXVuYWRiLkNsaWVudCh7c2VjcmV0OiBwcm9jZXNzLmVudi5SRUFDVF9BUFBfRkFVTkFfS0VZfSlcclxuXHJcbmV4cG9ydCBjb25zdCBhZGROZXdQYXNzd29yZCA9IGFzeW5jIChhY2NvdW50TmFtZSwgYWNjb3VudFVybCwgZW1haWwsIGVuY3J5cHRlZFBhc3N3b3JkLCB1c2VyLCBhdmF0YXIpID0+IHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICBjb25zdCBtb250aHMgPSBbXHJcbiAgICAgICAgJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLFxyXG4gICAgICAgICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlcidcclxuICAgIF1cclxuICAgIHRyeXsgICAgXHJcbiAgICAgICAgbGV0IG5ld0FkZGVkUGFzc3dvcmQgPSBhd2FpdCBmYXVuYUNsaWVudC5xdWVyeShcclxuICAgICAgICAgICAgcS5DcmVhdGUoXHJcbiAgICAgICAgICAgICAgICBxLkNvbGxlY3Rpb24oJ3Bhc3N3b3JkcycpLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmNyeXB0ZWRQYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkX19hdDogYCR7bW9udGhzW2RhdGUuZ2V0TW9udGgoKV19ICR7ZGF0ZS5nZXREYXRlKCl9LCAke2RhdGUuZ2V0RnVsbFllYXIoKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdXNlci5zdWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgICBpZiAobmV3QWRkZWRQYXNzd29yZC5uYW1lID09PSAnQmFkUmVxdWVzdCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSByZXF1ZXN0LCBEYXRhYmFzZSBTZXJ2ZXIgaXNzdWUhJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdBZGRlZFBhc3N3b3JkLmRhdGEuaWQgPSBuZXdBZGRlZFBhc3N3b3JkLnJlZi52YWx1ZS5pZFxyXG4gICAgICAgIHJldHVybiBuZXdBZGRlZFBhc3N3b3JkLmRhdGFcclxuICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2VcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFBhc3N3b3Jkc0ZvclVzZXIgPSBhc3luYyBpZCA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBwYXNzd29yZHNGb3JVc2VyID0gYXdhaXQgZmF1bmFDbGllbnQucXVlcnkoXHJcbiAgICAgICAgICAgIHEuUGFnaW5hdGUoXHJcbiAgICAgICAgICAgICAgICBxLk1hdGNoKHEuSW5kZXgoJ3VzZXJfcGFzc3dvcmRzJyksIGlkKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGlmIChwYXNzd29yZHNGb3JVc2VyLm5hbWUgPT09ICdOb3RGb3VuZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdQYXNzd29yZHMgZm9yIHRoZSB1c2VyIHdlcmUgbm90IGZvdW5kISdcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhc3N3b3Jkc0ZvclVzZXIubmFtZSA9PT0gJ0JhZFJlcXVlc3QnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgcmVxdWVzdCwgRGF0YWJhc2UgU2VydmVyIGlzc3VlISdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkcyA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgcGFzc3dvcmRJZCBvZiBwYXNzd29yZHNGb3JVc2VyLmRhdGEpIHtcclxuICAgICAgICAgICAgbGV0IHBhc3N3b3JkID0gYXdhaXQgZ2V0UGFzc3dvcmQocGFzc3dvcmRJZC52YWx1ZS5pZClcclxuICAgICAgICAgICAgcGFzc3dvcmRzLnB1c2gocGFzc3dvcmQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXNzd29yZHNcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09ICdpbnN0YW5jZSBub3QgZm91bmQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFBhc3N3b3JkID0gYXN5bmMgaWQgPT4ge1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGxldCBwYXNzd29yZCA9IGF3YWl0IGZhdW5hQ2xpZW50LnF1ZXJ5KFxyXG4gICAgICAgICAgICBxLkdldChxLlJlZihxLkNvbGxlY3Rpb24oJ3Bhc3N3b3JkcycpLCBpZCkpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGlmIChwYXNzd29yZC5uYW1lID09PSAnTm90Rm91bmQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnUGFzc3dvcmRzIGZvciB0aGUgdXNlciB3ZXJlIG5vdCBmb3VuZCEnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXNzd29yZC5uYW1lID09PSAnQmFkUmVxdWVzdCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSByZXF1ZXN0LCBEYXRhYmFzZSBTZXJ2ZXIgaXNzdWUhJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXNzd29yZC5kYXRhLmlkID0gcGFzc3dvcmQucmVmLnZhbHVlLmlkXHJcbiAgICAgICAgcmV0dXJuIHBhc3N3b3JkLmRhdGFcclxuICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2VcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVBhc3N3b3JkID0gYXN5bmMgKHBheWxvYWQsIGlkKSA9PiB7XHJcbiAgICB0cnl7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkID0gYXdhaXQgZmF1bmFDbGllbnQucXVlcnkoXHJcbiAgICAgICAgICAgIHEuVXBkYXRlKFxyXG4gICAgICAgICAgICAgICAgcS5SZWYocS5Db2xsZWN0aW9uKCdwYXNzd29yZHMnKSwgaWQpLFxyXG4gICAgICAgICAgICAgICAgeyBkYXRhOiBwYXlsb2FkIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgICBpZiAocGFzc3dvcmQubmFtZSA9PT0gJ05vdEZvdW5kJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJ1JlcXVpcmVkIHBhc3N3b3JkIGRhdGEgTm90IGZvdW5kJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFzc3dvcmQubmFtZSA9PT0gJ0JhZFJlcXVlc3QnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnU29tZXRoaW5nIHdlbnQgd3JvbmcsIERhdGFiYXNlIFNlcnZlciBpc3N1ZSEnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhc3N3b3JkLmRhdGEuaWQgPSBwYXNzd29yZC5yZWYudmFsdWUuaWRcclxuICAgICAgICByZXR1cm4gcGFzc3dvcmQuZGF0YVxyXG4gICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlUGFzc3dvcmQgPSBhc3luYyBpZCA9PiB7XHJcbiAgICB0cnl7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkID0gYXdhaXQgZmF1bmFDbGllbnQucXVlcnkoXHJcbiAgICAgICAgICAgIHEuRGVsZXRlKFxyXG4gICAgICAgICAgICAgICAgcS5SZWYocS5Db2xsZWN0aW9uKCdwYXNzd29yZHMnKSwgaWQpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICAgICAgaWYgKHBhc3N3b3JkLm5hbWUgPT09ICdOb3RGb3VuZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdSZXF1aXJlZCBwYXNzd29yZCBkYXRhIE5vdCBmb3VuZCdcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhc3N3b3JkLm5hbWUgPT09ICdCYWRSZXF1ZXN0Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBEYXRhYmFzZSBTZXJ2ZXIgaXNzdWUhJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXNzd29yZC5kYXRhLmlkID0gcGFzc3dvcmQucmVmLnZhbHVlLmlkXHJcbiAgICAgICAgcmV0dXJuIHBhc3N3b3JkLmRhdGFcclxuICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2VcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZmF1bmFkYiIsInF1ZXJ5IiwicSIsImZhdW5hQ2xpZW50IiwiQ2xpZW50Iiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIlJFQUNUX0FQUF9GQVVOQV9LRVkiLCJhZGROZXdQYXNzd29yZCIsImFjY291bnROYW1lIiwiYWNjb3VudFVybCIsImVtYWlsIiwiZW5jcnlwdGVkUGFzc3dvcmQiLCJ1c2VyIiwiYXZhdGFyIiwiZGF0ZSIsIkRhdGUiLCJtb250aHMiLCJuZXdBZGRlZFBhc3N3b3JkIiwiQ3JlYXRlIiwiQ29sbGVjdGlvbiIsImRhdGEiLCJjcmVhdGVkX19hdCIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEZ1bGxZZWFyIiwiaWQiLCJzdWIiLCJuYW1lIiwicmVmIiwidmFsdWUiLCJlcnJvciIsIm1lc3NhZ2UiLCJnZXRQYXNzd29yZHNGb3JVc2VyIiwicGFzc3dvcmRzRm9yVXNlciIsIlBhZ2luYXRlIiwiTWF0Y2giLCJJbmRleCIsInBhc3N3b3JkcyIsInBhc3N3b3JkSWQiLCJwYXNzd29yZCIsImdldFBhc3N3b3JkIiwicHVzaCIsIkdldCIsIlJlZiIsInVwZGF0ZVBhc3N3b3JkIiwicGF5bG9hZCIsIlVwZGF0ZSIsImRlbGV0ZVBhc3N3b3JkIiwiRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./faunaDBModels.js\n");

/***/ }),

/***/ "(api)/./pages/api/passwords/[id].js":
/*!*************************************!*\
  !*** ./pages/api/passwords/[id].js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth0/nextjs-auth0 */ \"@auth0/nextjs-auth0\");\n/* harmony import */ var _auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _faunaDBModels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../faunaDBModels */ \"(api)/./faunaDBModels.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__.withApiAuthRequired)(async (req, res)=>{\n    const user = (0,_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__.getSession)(req, res).user;\n    if (req.method === 'PUT') {\n        let password = await (0,_faunaDBModels__WEBPACK_IMPORTED_MODULE_1__.updatePassword)(req.body, req.query.id);\n        res.status(201).json({\n            message: 'Successfully updated password',\n            data: password,\n            status: 'ok'\n        });\n    } else if (req.method === 'GET') {\n        let password = await (0,_faunaDBModels__WEBPACK_IMPORTED_MODULE_1__.getPassword)(req.query.id);\n        res.status(200).json({\n            message: 'Successfully retrieved password',\n            data: password,\n            status: 'ok'\n        });\n    } else if (req.method === 'DELETE') {\n        let password = await (0,_faunaDBModels__WEBPACK_IMPORTED_MODULE_1__.getPassword)(req.query.id);\n        if (password.user.id !== user.sub) {\n            return res.status(403).json({\n                message: 'Forbidden',\n                status: false,\n                data: null\n            });\n        }\n        password = await (0,_faunaDBModels__WEBPACK_IMPORTED_MODULE_1__.deletePassword)(req.query.id);\n        res.status(200).json({\n            message: 'Successfully deleted password',\n            data: password,\n            status: 'ok'\n        });\n    } else {\n        res.status(405).json({\n            message: 'Method not allowed',\n            data: null,\n            status: false\n        });\n    }\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcGFzc3dvcmRzL1tpZF0uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRTtBQUNlO0FBRXBGLGlFQUFlQSx3RUFBbUIsUUFBUUssR0FBRyxFQUFFQyxHQUFHLEdBQUssQ0FBQztJQUNwRCxLQUFLLENBQUNDLElBQUksR0FBR04sK0RBQVUsQ0FBQ0ksR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUk7SUFDdEMsRUFBRSxFQUFFRixHQUFHLENBQUNHLE1BQU0sS0FBSyxDQUFLLE1BQUUsQ0FBQztRQUN2QixHQUFHLENBQUNDLFFBQVEsR0FBRyxLQUFLLENBQUNMLDhEQUFjLENBQy9CQyxHQUFHLENBQUNLLElBQUksRUFBRUwsR0FBRyxDQUFDTSxLQUFLLENBQUNDLEVBQUU7UUFFMUJOLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7WUFDbEJDLE9BQU8sRUFBRSxDQUErQjtZQUN4Q0MsSUFBSSxFQUFFUCxRQUFRO1lBQ2RJLE1BQU0sRUFBRSxDQUFJO1FBQ2hCLENBQUM7SUFDTCxDQUFDLE1BQU0sRUFBRSxFQUFFUixHQUFHLENBQUNHLE1BQU0sS0FBSyxDQUFLLE1BQUUsQ0FBQztRQUM5QixHQUFHLENBQUNDLFFBQVEsR0FBRyxLQUFLLENBQUNOLDJEQUFXLENBQUNFLEdBQUcsQ0FBQ00sS0FBSyxDQUFDQyxFQUFFO1FBQzdDTixHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQyxDQUFDO1lBQ2xCQyxPQUFPLEVBQUUsQ0FBaUM7WUFDMUNDLElBQUksRUFBRVAsUUFBUTtZQUNkSSxNQUFNLEVBQUUsQ0FBSTtRQUNoQixDQUFDO0lBQ0wsQ0FBQyxNQUFNLEVBQUUsRUFBRVIsR0FBRyxDQUFDRyxNQUFNLEtBQUssQ0FBUSxTQUFFLENBQUM7UUFDakMsR0FBRyxDQUFDQyxRQUFRLEdBQUcsS0FBSyxDQUFDTiwyREFBVyxDQUFDRSxHQUFHLENBQUNNLEtBQUssQ0FBQ0MsRUFBRTtRQUM3QyxFQUFFLEVBQUVILFFBQVEsQ0FBQ0YsSUFBSSxDQUFDSyxFQUFFLEtBQUtMLElBQUksQ0FBQ1UsR0FBRyxFQUFFLENBQUM7WUFDaEMsTUFBTSxDQUFDWCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQyxDQUFDO2dCQUN6QkMsT0FBTyxFQUFFLENBQVc7Z0JBQ3BCRixNQUFNLEVBQUUsS0FBSztnQkFDYkcsSUFBSSxFQUFFLElBQUk7WUFDZCxDQUFDO1FBQ0wsQ0FBQztRQUNEUCxRQUFRLEdBQUcsS0FBSyxDQUFDUCw4REFBYyxDQUFDRyxHQUFHLENBQUNNLEtBQUssQ0FBQ0MsRUFBRTtRQUM1Q04sR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQztZQUNsQkMsT0FBTyxFQUFFLENBQStCO1lBQ3hDQyxJQUFJLEVBQUVQLFFBQVE7WUFDZEksTUFBTSxFQUFFLENBQUk7UUFDaEIsQ0FBQztJQUNMLENBQUMsTUFBTSxDQUFDO1FBQ0pQLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7WUFDbEJDLE9BQU8sRUFBRSxDQUFvQjtZQUM3QkMsSUFBSSxFQUFFLElBQUk7WUFDVkgsTUFBTSxFQUFFLEtBQUs7UUFDakIsQ0FBQztJQUNMLENBQUM7QUFDTCxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jeWJlcnZhdWx0bmV4dC8uL3BhZ2VzL2FwaS9wYXNzd29yZHMvW2lkXS5qcz9mMzAwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdpdGhBcGlBdXRoUmVxdWlyZWQgLGdldFNlc3Npb24gfSBmcm9tICdAYXV0aDAvbmV4dGpzLWF1dGgwJ1xyXG5pbXBvcnQgeyBkZWxldGVQYXNzd29yZCwgZ2V0UGFzc3dvcmQsIHVwZGF0ZVBhc3N3b3JkIH0gZnJvbSAnLi4vLi4vLi4vZmF1bmFEQk1vZGVscydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhBcGlBdXRoUmVxdWlyZWQoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gZ2V0U2Vzc2lvbihyZXEsIHJlcykudXNlclxyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdQVVQnKSB7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkID0gYXdhaXQgdXBkYXRlUGFzc3dvcmQoXHJcbiAgICAgICAgICAgIHJlcS5ib2R5LCByZXEucXVlcnkuaWRcclxuICAgICAgICApXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1N1Y2Nlc3NmdWxseSB1cGRhdGVkIHBhc3N3b3JkJyxcclxuICAgICAgICAgICAgZGF0YTogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgIHN0YXR1czogJ29rJ1xyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkID0gYXdhaXQgZ2V0UGFzc3dvcmQocmVxLnF1ZXJ5LmlkKVxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgcmV0cmlldmVkIHBhc3N3b3JkJyxcclxuICAgICAgICAgICAgZGF0YTogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgIHN0YXR1czogJ29rJ1xyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdERUxFVEUnKSB7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkID0gYXdhaXQgZ2V0UGFzc3dvcmQocmVxLnF1ZXJ5LmlkKVxyXG4gICAgICAgIGlmIChwYXNzd29yZC51c2VyLmlkICE9PSB1c2VyLnN1Yikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZvcmJpZGRlbicsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogbnVsbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBwYXNzd29yZCA9IGF3YWl0IGRlbGV0ZVBhc3N3b3JkKHJlcS5xdWVyeS5pZClcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgcGFzc3dvcmQnLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXNzd29yZCxcclxuICAgICAgICAgICAgc3RhdHVzOiAnb2snXHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyxcclxuICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgc3RhdHVzOiBmYWxzZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0pXHJcbiAgIl0sIm5hbWVzIjpbIndpdGhBcGlBdXRoUmVxdWlyZWQiLCJnZXRTZXNzaW9uIiwiZGVsZXRlUGFzc3dvcmQiLCJnZXRQYXNzd29yZCIsInVwZGF0ZVBhc3N3b3JkIiwicmVxIiwicmVzIiwidXNlciIsIm1ldGhvZCIsInBhc3N3b3JkIiwiYm9keSIsInF1ZXJ5IiwiaWQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImRhdGEiLCJzdWIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/passwords/[id].js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/passwords/[id].js"));
module.exports = __webpack_exports__;

})();